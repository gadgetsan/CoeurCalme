<head>
    <meta charset="UTF-8">
    <meta name="description" content="A simple web app to help with cardiac coherence">
    <meta name="keywords" content="Cohérence Cardiaque, Cardiaque, anxiété, aide, cohérence, calme, relaxation, respiration, outil">
    <meta name="author" content="Stéphane Beaudet">
</head>

<title>C&oelig;ur Calme</title>

<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="style.css">

<script>
    function expiration() {
        document.getElementById("bar-background").classList.add('emptying');
        document.getElementById("bar-background").classList.remove('filling');
        document.getElementById("bar-background").textContent = "EXPIRER";
        setTimeout(function() {
            inspiration();
        }, 5000);
    }

    function inspiration() {
        document.getElementById("bar-background").classList.add('filling');
        document.getElementById("bar-background").classList.remove('emptying');
        document.getElementById("bar-background").textContent = "INSPIRER";
        setTimeout(function() {
            expiration();
        }, 5000);
    }

    function startTimer(duration) {
        var timer = duration,
            minutes, seconds;
        setInterval(function() {
            display = document.getElementById("timer");
            minutes = parseInt(timer / 60, 10)
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = minutes + ":" + seconds;

            if (--timer < 0) {
                timer = duration;
            }
        }, 1000);
    }
    startTimer(299);

    setTimeout(function() {
        expiration();
    }, 5000);
</script>

<svg height="0" xmlns="http://www.w3.org/2000/svg">
    <filter id="drop-shadow">
        <feGaussianBlur in="SourceAlpha" stdDeviation="4"/>
        <feOffset dx="5" dy="5" result="offsetblur"/>
        <feFlood flood-color="rgba(0,0,0,0.5)"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
            <feMergeNode/>
            <feMergeNode in="SourceGraphic"/>
        </feMerge>
    </filter>
</svg>

<body>
    <div id="logo-container">
        <img id="logo" class="shadowed" src="logo.png"></img>
    </div>
    <div id="titre">
        C&oelig;ur Calme
    </div>
    <div id="timer">05:00</div>
    <div id="bar-respiration">
        <div id="bar-background" class="filling">INSPIRER</div>
    </div>
    <div id="explication">
        Un petit logiciel pour faire de la <a href="https://fr.wikipedia.org/wiki/Cohérence_cardiaque">cohérence cardiaque</a>. Il est recommandé d'effectuer cet exercice durant 5 minutes afin de réduire l'anxiété.
    </div>

    <div id="footer">fait par &copy;
        <a href="mailto:stephaneblitz@gmail.com">Stéphane Beaudet</a>
    </div>

</body>